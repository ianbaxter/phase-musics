(this["webpackJsonpphase-musics"]=this["webpackJsonpphase-musics"]||[]).push([[0],[,,,,function(e,t,a){e.exports=a(11)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(3),l=a.n(r),c=(a(9),a(1));a(10);var s=function(){var e=Object(n.useState)(null),t=Object(c.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)("1.002"),s=Object(c.a)(l,2),i=s[0],u=s[1],p=Object(n.useState)("0"),m=Object(c.a)(p,2),d=m[0],f=m[1],h=Object(n.useState)(null),v=Object(c.a)(h,2),E=v[0],b=v[1],g=new AudioContext,w=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=g.createBufferSource(),o=g.createStereoPanner();n.buffer=e,n.loop=!0,n.loopStart=d,n.loopEnd=E,n.playbackRate.value=a,o.pan.value=t,n.connect(o),o.connect(g.destination),n.start(0,d)},y=function(e){var t=e.target.value;switch(e.target.name){case"speed":u(t);break;case"loop-start":f(t);break;case"loop-end":b(t)}},S=0;return a&&(S=Math.round(10*a.duration)/10),o.a.createElement("div",{className:"App"},o.a.createElement("h1",null,"Phase Musics"),o.a.createElement("p",null,"Load a short .mp3 or .wav file. ",o.a.createElement("br",null),"Set the loop positions and speed difference. ",o.a.createElement("br",null),"Listen to the sample phase between itself. ",o.a.createElement("br",null),"Inspired by"," ",o.a.createElement("a",{href:"https://teropa.info/blog/2016/07/28/javascript-systems-music.html"},"this article")," ","and Steve Reich. ",o.a.createElement("br",null),"Refresh page to reset."),o.a.createElement("div",{className:"card"},o.a.createElement("input",{type:"file",accept:".wav, .mp3, .ogg",onChange:function(e){var t=e.target.files[0];if(t.type&&-1===t.type.indexOf("audio"))console.log("File is not audio.",t.type,t);else{var a=new FileReader;a.addEventListener("load",(function(e){g.decodeAudioData(e.target.result).then((function(e){r(e)})).catch((function(e){return console.error(e)}))})),a.readAsArrayBuffer(t)}}}),o.a.createElement("button",{onClick:function(){"running"!==g.state&&g.resume(),w(a,-1,1),w(a,1,i)},disabled:null===a},"Start"),a&&o.a.createElement("div",{className:"controls"},o.a.createElement("div",{className:"control"},o.a.createElement("input",{type:"range",orient:"vertical",id:"loop-start",name:"loop-start",min:"0",max:S,step:"1",onInput:y,defaultValue:"0"}),o.a.createElement("label",{htmlFor:"loop-start"},"Loop Start")),o.a.createElement("div",{className:"control"},o.a.createElement("input",{type:"range",orient:"vertical",id:"loop-end",name:"loop-end",min:"0",max:S,step:"1",onInput:y,defaultValue:S}),o.a.createElement("label",{htmlFor:"loop-start"},"Loop End")),o.a.createElement("div",{className:"control"},o.a.createElement("input",{type:"range",orient:"vertical",id:"speed",name:"speed",min:"1.001",max:"1.01",step:"0.001",onInput:y,defaultValue:"1.002"}),o.a.createElement("label",{htmlFor:"speed"},"Speed")))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(s,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[4,1,2]]]);
//# sourceMappingURL=main.d7db7681.chunk.js.map